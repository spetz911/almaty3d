cmake_minimum_required(VERSION 3.1)
project(assimp_master)

set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -std=c++11")

set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -DASSIMP_BUILD_NO_OWN_ZLIB")

ADD_DEFINITIONS(-DASSIMP_BUILD_NO_OWN_ZLIB)

find_package(ZLIB REQUIRED)
include_directories(ZLIB_INCLUDE_DIR)

include_directories(BoostWorkaround)
include_directories(include)


set(SOURCE_FILES
    src/3DSConverter.cpp
    src/3DSExporter.cpp
    src/3DSExporter.h
    src/3DSHelper.h
    src/3DSLoader.cpp
    src/3DSLoader.h
    src/ACLoader.cpp
    src/ACLoader.h
    src/ASELoader.cpp
    src/ASELoader.h
    src/ASEParser.cpp
    src/ASEParser.h
    src/assbin_chunks.h
    src/AssbinExporter.cpp
    src/AssbinExporter.h
    src/AssbinLoader.cpp
    src/AssbinLoader.h
    src/Assimp.cpp
    src/AssimpCExport.cpp
    src/AssxmlExporter.cpp
    src/AssxmlExporter.h
    src/B3DImporter.cpp
    src/B3DImporter.h
    src/BaseImporter.cpp
    src/BaseImporter.h
    src/BaseProcess.cpp
    src/BaseProcess.h
    src/Bitmap.cpp
    src/Bitmap.h
    src/BlenderBMesh.cpp
    src/BlenderBMesh.h
    src/BlenderDNA.cpp
    src/BlenderDNA.h
    src/BlenderIntermediate.h
    src/BlenderLoader.cpp
    src/BlenderLoader.h
    src/BlenderModifier.cpp
    src/BlenderModifier.h
    src/BlenderScene.cpp
    src/BlenderScene.h
    src/BlenderSceneGen.h
    src/BlenderTessellator.cpp
    src/BlenderTessellator.h
    src/BlobIOSystem.h
    src/BVHLoader.cpp
    src/BVHLoader.h
    src/ByteSwapper.h
    src/CalcTangentsProcess.cpp
    src/CalcTangentsProcess.h
    src/CInterfaceIOWrapper.h
    src/COBLoader.cpp
    src/COBLoader.h
    src/COBScene.h
    src/ColladaExporter.cpp
    src/ColladaExporter.h
    src/ColladaHelper.h
    src/ColladaLoader.cpp
    src/ColladaLoader.h
    src/ColladaParser.cpp
    src/ColladaParser.h
    src/ComputeUVMappingProcess.cpp
    src/ComputeUVMappingProcess.h
    src/ConvertToLHProcess.cpp
    src/ConvertToLHProcess.h
    src/CSMLoader.cpp
    src/CSMLoader.h
    src/DeboneProcess.cpp
    src/DeboneProcess.h
    src/DefaultIOStream.cpp
    src/DefaultIOStream.h
    src/DefaultIOSystem.cpp
    src/DefaultIOSystem.h
    src/DefaultLogger.cpp
    src/DefaultProgressHandler.h
    src/Defines.h
    src/DXFHelper.h
    src/DXFLoader.cpp
    src/DXFLoader.h
    src/Exceptional.h
    src/Exporter.cpp
    src/fast_atof.h
    src/FBXAnimation.cpp
    src/FBXBinaryTokenizer.cpp
    src/FBXCompileConfig.h
    src/FBXConverter.cpp
    src/FBXConverter.h
    src/FBXDeformer.cpp
    src/FBXDocument.cpp
    src/FBXDocument.h
    src/FBXDocumentUtil.cpp
    src/FBXDocumentUtil.h
    src/FBXImporter.cpp
    src/FBXImporter.h
    src/FBXImportSettings.h
    src/FBXMaterial.cpp
    src/FBXMeshGeometry.cpp
    src/FBXModel.cpp
    src/FBXNodeAttribute.cpp
    src/FBXParser.cpp
    src/FBXParser.h
    src/FBXProperties.cpp
    src/FBXProperties.h
    src/FBXTokenizer.cpp
    src/FBXTokenizer.h
    src/FBXUtil.cpp
    src/FBXUtil.h
    src/FileLogStream.h
    src/FileSystemFilter.h
    src/FindDegenerates.cpp
    src/FindDegenerates.h
    src/FindInstancesProcess.cpp
    src/FindInstancesProcess.h
    src/FindInvalidDataProcess.cpp
    src/FindInvalidDataProcess.h
    src/FixNormalsStep.cpp
    src/FixNormalsStep.h
    src/GenericProperty.h
    src/GenFaceNormalsProcess.cpp
    src/GenFaceNormalsProcess.h
    src/GenVertexNormalsProcess.cpp
    src/GenVertexNormalsProcess.h
    src/HalfLifeFileData.h
    src/Hash.h
    src/HMPFileData.h
    src/HMPLoader.cpp
    src/HMPLoader.h
    src/IFCBoolean.cpp
    src/IFCCurve.cpp
    src/IFCGeometry.cpp
    src/IFCLoader.cpp
    src/IFCLoader.h
    src/IFCMaterial.cpp
    src/IFCOpenings.cpp
    src/IFCProfile.cpp
    src/IFCReaderGen.cpp
    src/IFCReaderGen.h
    src/IFCUtil.cpp
    src/IFCUtil.h
    src/IFF.h
    src/Importer.cpp
    src/Importer.h
    src/ImporterRegistry.cpp
    src/ImproveCacheLocality.cpp
    src/ImproveCacheLocality.h
    src/IRRLoader.cpp
    src/IRRLoader.h
    src/IRRMeshLoader.cpp
    src/IRRMeshLoader.h
    src/IRRShared.cpp
    src/IRRShared.h
    src/irrXMLWrapper.h
    src/JoinVerticesProcess.cpp
    src/JoinVerticesProcess.h
    src/LimitBoneWeightsProcess.cpp
    src/LimitBoneWeightsProcess.h
    src/LineSplitter.h
    src/LogAux.h
    src/LWOAnimation.cpp
    src/LWOAnimation.h
    src/LWOBLoader.cpp
    src/LWOFileData.h
    src/LWOLoader.cpp
    src/LWOLoader.h
    src/LWOMaterial.cpp
    src/LWSLoader.cpp
    src/LWSLoader.h
    src/Macros.h
    src/MakeVerboseFormat.cpp
    src/MakeVerboseFormat.h
    src/MaterialSystem.cpp
    src/MaterialSystem.h
    src/MD2FileData.h
    src/MD2Loader.cpp
    src/MD2Loader.h
    src/MD2NormalTable.h
    src/MD3FileData.h
    src/MD3Loader.cpp
    src/MD3Loader.h
    src/MD4FileData.h
    src/MD5Loader.cpp
    src/MD5Loader.h
    src/MD5Parser.cpp
    src/MD5Parser.h
    src/MDCFileData.h
    src/MDCLoader.cpp
    src/MDCLoader.h
    src/MDCNormalTable.h
    src/MDLDefaultColorMap.h
    src/MDLFileData.h
    src/MDLLoader.cpp
    src/MDLLoader.h
    src/MDLMaterialLoader.cpp
    src/MemoryIOWrapper.h
    src/MS3DLoader.cpp
    src/MS3DLoader.h
    src/NDOLoader.cpp
    src/NDOLoader.h
    src/NFFLoader.cpp
    src/NFFLoader.h
    src/ObjExporter.cpp
    src/ObjExporter.h
    src/ObjFileData.h
    src/ObjFileImporter.cpp
    src/ObjFileImporter.h
    src/ObjFileMtlImporter.cpp
    src/ObjFileMtlImporter.h
    src/ObjFileParser.cpp
    src/ObjFileParser.h
    src/ObjTools.h
    src/OFFLoader.cpp
    src/OFFLoader.h
    src/OgreBinarySerializer.cpp
    src/OgreBinarySerializer.h
    src/OgreImporter.cpp
    src/OgreImporter.h
    src/OgreMaterial.cpp
    src/OgreParsingUtils.h
    src/OgreStructs.cpp
    src/OgreStructs.h
    src/OgreXmlSerializer.cpp
    src/OgreXmlSerializer.h
    src/OptimizeGraph.cpp
    src/OptimizeGraph.h
    src/OptimizeMeshes.cpp
    src/OptimizeMeshes.h
    src/ParsingUtils.h
    src/PlyExporter.cpp
    src/PlyExporter.h
    src/PlyLoader.cpp
    src/PlyLoader.h
    src/PlyParser.cpp
    src/PlyParser.h
    src/PolyTools.h
    src/PostStepRegistry.cpp
    src/PretransformVertices.cpp
    src/PretransformVertices.h
    src/ProcessHelper.cpp
    src/ProcessHelper.h
    src/Profiler.h
    src/Q3BSPFileData.h
    src/Q3BSPFileImporter.cpp
    src/Q3BSPFileImporter.h
    src/Q3BSPFileParser.cpp
    src/Q3BSPFileParser.h
    src/Q3BSPZipArchive.cpp
    src/Q3BSPZipArchive.h
    src/Q3DLoader.cpp
    src/Q3DLoader.h
    src/qnan.h
    src/RawLoader.cpp
    src/RawLoader.h
    src/RemoveComments.cpp
    src/RemoveComments.h
    src/RemoveRedundantMaterials.cpp
    src/RemoveRedundantMaterials.h
    src/RemoveVCProcess.cpp
    src/RemoveVCProcess.h
    src/SceneCombiner.cpp
    src/SceneCombiner.h
    src/ScenePreprocessor.cpp
    src/ScenePreprocessor.h
    src/ScenePrivate.h
    src/SGSpatialSort.cpp
    src/SGSpatialSort.h
    src/SkeletonMeshBuilder.cpp
    src/SkeletonMeshBuilder.h
    src/SMDLoader.cpp
    src/SMDLoader.h
    src/SmoothingGroups.h
    src/SortByPTypeProcess.cpp
    src/SortByPTypeProcess.h
    src/SpatialSort.cpp
    src/SpatialSort.h
    src/SplitByBoneCountProcess.cpp
    src/SplitByBoneCountProcess.h
    src/SplitLargeMeshes.cpp
    src/SplitLargeMeshes.h
    src/StandardShapes.cpp
    src/StandardShapes.h
    src/StdOStreamLogStream.h
    src/STEPFile.h
    src/STEPFileEncoding.cpp
    src/STEPFileEncoding.h
    src/STEPFileReader.cpp
    src/STEPFileReader.h
    src/STLExporter.cpp
    src/STLExporter.h
    src/STLLoader.cpp
    src/STLLoader.h
    src/StreamReader.h
    src/StreamWriter.h
    src/StringComparison.h
    src/Subdivision.cpp
    src/Subdivision.h
    src/TargetAnimation.cpp
    src/TargetAnimation.h
    src/TerragenLoader.cpp
    src/TerragenLoader.h
    src/TextureTransform.cpp
    src/TextureTransform.h
    src/TinyFormatter.h
    src/TriangulateProcess.cpp
    src/TriangulateProcess.h
    src/UnrealLoader.cpp
    src/UnrealLoader.h
    src/ValidateDataStructure.cpp
    src/ValidateDataStructure.h
    src/Version.cpp
    src/Vertex.h
    src/VertexTriangleAdjacency.cpp
    src/VertexTriangleAdjacency.h
    src/Win32DebugLogStream.h
    src/XFileExporter.cpp
    src/XFileExporter.h
    src/XFileHelper.h
    src/XFileImporter.cpp
    src/XFileImporter.h
    src/XFileParser.cpp
    src/XFileParser.h
    src/XGLLoader.cpp
    src/XGLLoader.h
    src/XMLTools.h

    contrib/clipper/clipper.cpp
    contrib/clipper/clipper.hpp
    contrib/ConvertUTF/ConvertUTF.c
    contrib/ConvertUTF/ConvertUTF.h
    contrib/irrXML/CXMLReaderImpl.h
    contrib/irrXML/heapsort.h
    contrib/irrXML/irrArray.h
    contrib/irrXML/irrString.h
    contrib/irrXML/irrTypes.h
    contrib/irrXML/irrXML.cpp
    contrib/irrXML/irrXML.h
    contrib/poly2tri/poly2tri/common/shapes.cc
    contrib/poly2tri/poly2tri/common/shapes.h
    contrib/poly2tri/poly2tri/common/utils.h
    contrib/poly2tri/poly2tri/sweep/advancing_front.cc
    contrib/poly2tri/poly2tri/sweep/advancing_front.h
    contrib/poly2tri/poly2tri/sweep/cdt.cc
    contrib/poly2tri/poly2tri/sweep/cdt.h
    contrib/poly2tri/poly2tri/sweep/sweep.cc
    contrib/poly2tri/poly2tri/sweep/sweep.h
    contrib/poly2tri/poly2tri/sweep/sweep_context.cc
    contrib/poly2tri/poly2tri/sweep/sweep_context.h
    contrib/poly2tri/poly2tri/poly2tri.h
    contrib/unzip/crypt.h
    contrib/unzip/ioapi.c
    contrib/unzip/ioapi.h
    contrib/unzip/unzip.c
    contrib/unzip/unzip.h


    )


set(TOOL_CMD_FILES
    tools/assimp_cmd/CompareDump.cpp
    tools/assimp_cmd/Export.cpp
    tools/assimp_cmd/generic_inserter.hpp
    tools/assimp_cmd/ImageExtractor.cpp
    tools/assimp_cmd/Info.cpp
    tools/assimp_cmd/Main.cpp
    tools/assimp_cmd/Main.h
    tools/assimp_cmd/resource.h
    tools/assimp_cmd/WriteDumb.cpp
    )


#add_executable(assimp_master ${SOURCE_FILES})

add_library(assimp_master OBJECT ${SOURCE_FILES})

add_executable(tool_cmd ${TOOL_CMD_FILES} $<TARGET_OBJECTS:assimp_master>)

target_link_libraries(tool_cmd ${ZLIB_LIBRARY})
